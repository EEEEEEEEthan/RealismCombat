# 音频系统

## 概述
统一的音频播放系统，由 `ProgramRootNode` 集中管理所有音频资源。系统支持背景音乐(BGM)和音效的分离播放，音效播放时会自动暂停BGM，播放完毕后恢复。

## 核心架构

### ProgramRootNode - 音频管理器
位于 `Scripts/Nodes/ProgramRootNode.cs`

**职责：**
- 统一管理所有音频播放
- 提供 `PlayMusic` 和 `PlaySoundEffect` API
- 处理BGM和音效的冲突（音效播放时暂停BGM）

**音频播放器：**
- `BgmPlayer` - 背景音乐播放器（循环播放）
- `SoundEffectPlayer` - 音效播放器（单次播放）

## API

### PlayMusic(string audioPath)
播放背景音乐，自动循环。MP3格式会自动设置循环。

参考调用：
- `Scripts/Nodes/GameNode.cs` - 游戏状态切换时播放BGM

### PlaySoundEffect(string audioPath)
播放音效。如果BGM正在播放，会暂停BGM，音效播放完毕后自动恢复。

参考调用：
- `Scripts/Nodes/Dialogues/MenuDialogue.cs` - 菜单确认时播放音效
- `Scripts/Nodes/CombatNode.cs` - 战斗伤害时播放音效

## 音频资源

音频资源路径定义在 `Scripts/ResourceTable.cs` 的 `AudioTable` 类中，通过常量引用。

